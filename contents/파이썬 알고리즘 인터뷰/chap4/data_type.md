# 자료형 (Data Type)

모든 자료형을 일일이 언급하기에는 너무 많기 때문에 파이썬이 제공하는 주요 자료형을 중심으로 살펴본다.

아래 그림은 파이썬3 표준 타입 계층 구조이다.

![img](https://upload.wikimedia.org/wikipedia/commons/1/10/Python_3._The_standard_type_hierarchy.png)

## 숫자 (Numbers)

파이썬은 숫자 정수형을 int만 제공한다. 파이썬3의 int는 임의 정밀도를 지원하며, 정수를 숫자의 배열로 간주하여 자릿수 단위로 쪼개어 배열 형태로 표현한다.

예를 들어 123456789101112131415 라는 아주 큰 수는, 다음과 같이 표현 할 수 있다.
<table>
       <tr>
            <th>사이즈</th>
            <th colspan=3>3</th>
        </tr>
        <tr>
            <td>값</td>
            <td>437976919</td>
            <td>87719511</td>
            <td>107</td>
        </tr>
</table>

이 표현은, 다음과 같은 식으로 다시 변환이 가능하다.
(437976919 * 2^30 * 0) + (87719511 * 2^30 * 1) + (107 * 2^30 * 2) = 123456789101112131415

당연히 숫자를 위와 같은 임의 정밀도로 처리하면 계산 속도가 저하된다. 그러나 숫자를 단일형으로 처리할수 있으므로 언어를 매우 단순한 구조로 만들 수 있을 뿐만 아니라, 언어를 사용하는 입장에서도 더이상 오버플로를 고민할 필요가 없어 잘못된 계산 오류를 방지할 수 있다. *기능과 안전을 위해 속도를 맞바꾼 셈이다.*

bool은 엄밀히 따지면 논리 자료형이지만, 파이썬에서는 내부적으로 1(True)와 0(False)으로 처리되는 int의 서브 클래스이다. int 는 object 의 하위 클래스이기도 하기 때문에 결국 object > int > bool 과 같은 구조를 띤다.

## 매핑 (Mapping)

매핑 타입은 키와 자료형으로 구성된 복합 자료형이다. 파이썬에서는 유일하게 **딕셔너리**가 매핑 자료형이다. 리스트와 함께 가장 빈번하게 쓰인다.

## 집합 (set)

집합 자료형인 **set**은 중복된 값을 갖지 않는 자료형이다.
set은 입력 순서가 유지되지 않으며, 중복된 값이 있을 경우 하나의 값만 유지한다.

## 시퀀스 (sequence)

시퀀스는 우리말로 하면 '수열'과 같은 의미로, 어떤 특정 대상의 ***순서*** 있는 나열을 뜻한다.
예를 들면 **str**은 문자의 순서있는 나열로 **문자열**을 이루는 자료형이며, **list**는 다양한 값들을 **배열 형태의 순서 있는 나열**로 구성하는 자료형이다. 파이썬에서는 *list* 라는 시퀀스 타입이 사실상 배열의 역할을 수행한다. 시퀀스는 **불변(Immutable)** 과 **가변(Mutable)** 으로 구분하는데 말 그대로 불변은 값을 변경 할 수 없다. str, tuple, bytes가 이에 해당한다. 한번 이 타입으로 선언되는 값은 변경할 수가 없다. 반면 list는 가변이다. 리스트는 값을 자유롭게 추가,삭제할 수 있는 동적 배열이다.

## 원시 타입 (Primitive Type)

C나 자바 같은 프로그래밍 언어들은 기본적으로 원시 타입(Primitive Type)을 제공한다.

|언어|지원 타입 형태
|:--:|:--------:|
| C| 원시 타입|
|자바| 원시 타입, 객체|
|파이썬| 객체|

원시 타입을 이용하면 매우 빠른 연산이 가능하다.
객체는 편리하고 다양한 기능을 제공하기 위해 일정 부분 속도와 공간을 희생한다.

파이썬은 원시 타입을 지원하지 않는다. 파이썬은 애초에 편리한 기능 제공에 우선순위를 둔 언어인 만큼 느린 속도와 더 많은 메모리를 차지하더라도 훨씬 더 다양한 기능을 제공할 수 있는 객체에 관심을 두는 게 어찌 보면 당연하다. 파이썬은 원시 타입의 속도를 포기하는 대신 객체의 다양한 기능과 편의성을 택했다.

## 객체

파이썬은 모든 것이 객체이다. 크게 구분하면 **불변 객체 (Immutable Object)** 와 **가변 객체 (Mutable Object)** 로 나뉜다.

| 클래스 | 설명 | 불변 객체|
|:-----:|:---:|:------:|
|bool|불|O|
|int|정수|O|
|float|실수|O|
|list|리스트|X|
|tuple|리스트와 튜플의 차이는 불변 여부이며 이외에는 거의 동일하다.<br>튜플은 불변이므로 생성할 때 설정한 값은 변경할 수 없다.|O|
|str|문자|O|
|set|중복된 값을 갖지 않는 집합 자료형|X|
|dict|딕셔너리|X|

## 불변 객체

파이썬에서 변수를 할당하는 작업은 해당 객체에 대해 참조를 한다는 의미이다. 여기에는 예외가 없으며 심지어 문자와 숫자도 모두 객체다. 다만, 문자와 숫자는 불변 객체라는 차이가 있을 뿐이다.

```python
10
a = 10
b = a
id(10),id(a),id(b)
(4393858752,4393858752,4393858752)
````

파이썬은 모든 것이 객체이므로, 메모리 상에 위치한 객체의 주소를 얻어오는 id() 함수를 실행한 결과는 모두 동일하다. 숫자와 문자는 모두 **불변 객체**이기 때문에 10이 11이 되어도 a 와 b의 값은 변하지 않는다. 상수처럼 read-only 용도로 사용하거나 무엇보다 값이 변하지 않기 때문에 dict의 키나 set의 값으로도 사용할 수 있다.

## 가변 객체

int, str 과 달리 list는 값이 바뀔 수 있으며, 다른 변수가 참조하고 있을 때 그 변수의 값 또한 변경된다는 의미다.

```python
>>> a = [1,2,3,4,5]

>>> b = a

>>> b
[1,2,3,4,5]

>>> a[2] = 4

>>> a
[1,2,4,4,5]

>>> b
[1,2,4,4,5]
```

위 코드와 같이 a를 참조하고 있는 b의 값은 a의 값이 변경되면 따라서 바뀌게 된다. 위 코드는 list가 가변 객체이기 때문에 가능한 것이다. 만약 b 가 int나 str을 참조하고 있다면 불변 객체이기 때문에 이런 일은 없었을 것이다.

### 파이썬의 비교 연산자 is와 ==

is는 id()값을 비교하는 함수이다. None 은 널(null)로서 **값 자체가 정의되어 있지 않으므로** ==로 비교가 불가능하다. 따라서 None은 is 로만 비교가 가능하다.

```python

if a is None:
    pass
```



==는 **값을 비교하는 연산자**이다. 예를 들어, 다음과 같은 코드가 있다고 하자

```python

>>> a = [1,2,3]

>>> a == a
True

>>> a == list(a)
True

>>>a is a
True

>>> a is list(a)
False
```

4번째 경우, a 와 list(a) 의 값은 동일하지만, list로 묶어주면 별도의 객체로 복사가 되고, 다른 id를 갖게 되기 때문에, False가 된다.

